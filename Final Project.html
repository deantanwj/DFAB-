<!DOCTYPE html>
<html>
	<head>
		<title>Final Project</title>
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
	<div id="container">
		<div id="Header">
			<h1>Final Project</h1>
		</div>
		<div id="Summary">
			<p>
				The Final Project requires us to come up with an idea and work towards making a physical copy of it, using the various techniques we have learned such as:
				<ul>
					<li>Documentation to record the documentation and record the progression of:
						<ul>
							<li>Ideas - The ideas on what can be made and what purposes the design will serve</li>
							<li>Construction - The construction of the actual project should be documented as it progresses, showing the production of the various components and the assembly of all parts.</li>
							<li>How-do (?) </li>
							<li>Instruction Manual - A user's manual on how to operate the various functions of the project's design.</li>
						</ul></br></br>
					<li>CAD and/or Digital Graphic Components</li></br></br>
					<li>2D Cutting and Engraving</li></br></br>
					<li>3D Printed Parts</li></br></br>
					<li>Embedded control with a microcontroller with inputs and outputs</li></br></br>
				</ul>			

				<hr/></br></br>
				<h2>Tasklist</h2>
				<dl>
					<dt>Research possible ideas</dt>
					<dd>Research more details and look for existing designs that are similar or the same as my ideas.</br>
					Status: Completed</dd></br></br>
					
					<dt>Produce Preliminary Sketches</dt>
					<dd>Preliminary Sketches should be produced for a more visual representation of the project idea.</br>
					Status: Completed </dd></br></br>
					
					<dt>Produce Bill of Materials (BOM)</dt>
					<dd>A bill of materials is used to help identify a total list of items and components that are needed in the prodiction and construction of the project</br>
					Status: Completed</dd></br></br>
					
					<dt>Check with lecturers on project scope</dt>
					<dd>Check with lecturers on the feasability and safety of the scoped project</br>
					Status: Completed</dd></br></br>
					
					<dt>Designing CAD model and make any changes if needed.</dt>
					<dd>Start making or modifying any existing designs to make the needed changes to plan out the production of the final project.</br>
					Status: Completed</dd></br></br>
					
					<dt>Cutting and Engraving of parts</dt>
					<dd>Laser cutting parts that are needed to be used for the final project, and the subsequent results and adjustments made to fix any issues.</br>
					Status: Completed</dd></br></br>
					
					<dt>3D Printed Parts</dt>
					<dd>3D Print any parts that are needed, and make any changes neccessary to fix them.</br>
					Status: Completed</dd></br></br>
					
					<dt>Embedded Control with the Microcontroller</dt>
					<dd>Code the functions of the circuit to recieve inputs, and the following outputs.</br>
					Status: Completed</dd></br></br>
				</dl></br></br>
				</hr></br></br>
				<h2>Bill of Materials</h2>
				<dl>
					<dt><b>Final Bill of Materials Collected</b></dt>
					<dd>This final list is created after simplifying the circuit as much as possible, removing unneccessary components, and changing the board to a Digispark ATTiny85 by choice of the lecturer. In this case, no other power aside from
					the board's USB connection to a host computer is needed as there are no physical output devices, cutting down on the components needed.</dd></br></br>
					<dt>1x Digispark ATTiny85 Board</dt>
					<dd>The Digispark board will serve to collect input from the Rotary Encoder and adjust the volume on the connected computer respectively, and is powered by the USB connection to the computer.</dd></br></br>
					<dt>1x Rotary Encoder</dt>
					<dd>The Rotary Encoder is used here as the primary input device.</dd></br></br>
					<dt>10x Short Dupont Female to Female Jumper Wires</dt>
					<dd>The cables are used to make the needed connections in the circuit between the board and the rotary encoder.</dd></br></br>
					<dt>Data Transfer Micro USB Cable</dt>
					<dd>Used to transfer data and input between the board and the computer</dd></br></br>
					<dt>Additional Materials that are not electrical components:</dt>
					<dd>3mm thickness plywood, used for lasercutting pieces to form the main housing of the circuit.</br>
					3d Printed Knob made for Rotary Encoder</dd></br></br></br>
				</dl>	
				<dl>
					<dt><b>Bill of Materials V2</b></dt>
					<dd>This list is slightly edited after consulting with the lecturer about ways to go about assembly of the project.</dd></br></br>
					<dt>1x Arduino UNO Board</dt>
					<dd>The Arduino UNO board is used in place of the Arduino Nano as it is functionally similar to the Nano and the UNO is given to us by default in our kit. This was later replaced by the Digispark.</dd></br></br>
					<dt>1x Rotary Encoder</dt>
					<dd>The Rotary Encoder is used here as the primary input device.</dd></br></br>
					<dt>1x DuPont terminal block pin header 2mm 2 row *5p needle splitter pin header</dt>
					<dd>This is a power bus that is meant to provide power to the OLED Display. However, it is later removed as the OLED Display is made redundant by the computer screen showing the sound changes in the form of visual feedback.</dd></br></br>
					<dt>1x 128X64 I2C SSD1306 OLED display</dt>
					<dd>An OLED Display that was changed from the original due to availability of Fablab. This is later removed as it is made redundant by the computer's visual feedback of volume changes.</dd></br></br>
					<dt>11x 10cm Male to female jumper wires</dt>
					<dd>Wires used to make connections between the Power Bus, UNO board, display, and rotary encoder. Later changed to Female Female cables due to the change to the use of a Digispark and the removal of the power bus and OLED Display.</dd></br></br>
					<dt>Additional Materials that are not electrical components:</dt>
					<dd>3mm thickness plywood, used for lasercutting pieces to form the main housing of the circuit.</br>
					3d Printed Knob made for Rotary Encoder</dd></br></br></br>
				</dl>
				<dl>
					<dt><b>Bill of Materials V1</b></dt>
					<dd>This list is slightly edited after consulting with the lecturer about ways to go about assembly of the project.</dd></br></br>
					<dt>1x Arduino UNO Board</dt>
					<dd>The Arduino UNO board is used in place of the Arduino Nano as it is functionally similar to the Nano and the UNO is given to us by default in our kit. This was later replaced by the Digispark.</dd></br></br>
					<dt>1x Rotary Encoder</dt>
					<dd>The Rotary Encoder is used here as the primary input device.</dd></br></br>
					<dt>1x DuPont terminal block pin header 2mm 2 row *5p needle splitter pin header</dt>
					<dd>This is a power bus that is meant to provide power to the OLED Display. However, it is later removed as the OLED Display is made redundant by the computer screen showing the sound changes in the form of visual feedback.</dd></br></br>
					<dt>1x 128x32 I2C OLED display</dt>
					<dd>The original OLED display intended for use, but changed due to availability of Fablab. This is later removed as it is made redundant by the computer's visual feedback of volume changes.</dd></br></br>
					<dt>WS2812 5050 LED Ring 8-bit</dt>
					<dd>Used to show visual feedback of change in volume, but removed due to lack of availability and redunduncy.</dd></br></br>
					<dt>11x 10cm Male to female jumper wires</dt>
					<dd>Wires used to make connections between the Power Bus, UNO board, display, and rotary encoder. Later changed to Female Female cables due to the change to the use of a Digispark and the removal of the power bus and OLED Display.</dd></br></br>
					<dt>Additional Materials that are not electrical components:</dt>
					<dd>3mm thickness plywood, used for lasercutting pieces to form the main housing of the circuit.</br>
					1x 3d Printed Knob made for Rotary Encoder</br>
					4x M2 10mm Countersink screws for fastening components in place.</br>
					6x M2 5mm Screws for fastening components in place.</br>
					4x Silicon bumper 2x8mm for fastening components in place.</dd></br></br></br>
				</dl>
				<hr/></br></br>
				<h2>Research, Ideas, and Preliminary Sketches</h2>
				In preparation for this project, I've done some preliminary research on the ideas I had shortlisted, listed below, along with an evaluation on the feasability of each choice:
				<dl>
					<dt>Mood Lamp</dt>
					<dd>The first idea I had was to make a mood lamp / light based clock, with the light changing based on the time, as shown below.</br>
					<img src="Images/fp1.jpg" width="1060px" height="auto"></br>
					I had also found a similar project to the idea I had in theory, and it can be found <a href="https://www.instructables.com/id/Mood-Lamp-with-Arduino/">here.</a></br></br>
					 However, I rejected the idea for two reasons. The first was that I did not know how to program some of the functions, and I felt that it would be fairly redundant and not serve a practical purpose for most people,
					 as their functions can be replaced by other appliances such as mobile phones.</br></br></dd>
					<dt>Useless Machine</dt>
					<dd> I had intended to make a useless machine, but I could not find any interesting designs that could accomplish or serve a practical use, hence I scrapped the idea and moved onto looking at interesting parts 
					that I wanted to try working with. However, an example of what I had intended to do can be found <a href="https://www.instructables.com/id/Arduino-Most-Useless-Machine-Ever-project/">here.</a></dd></br></br>
					<dt>USB Audio Control device</dt>
					<dd>I found an interesting design that I wanted to try, and found a design that mainly made use of a rotary encoder for all its inputs, managed by an Arduino Nano. It allows the user to switch and cycle through various programs to adjust their audio,
					with a visual indicator to the audio level using an OLED display. Below is a sketch.</br>
					<img src="Images/fp2.jpg" width="1060px" height="auto"></br>
					The idea was heavily inspired by this project by Ruben Henares that uses a program called Maxmix, made for use with Arduino. The official website for its development can be found 
					<a href="https://maxmixproject.com/">here.</a></br>
					Due to my personal interest in the use of the rotary encoder, this is the first selection of projects I would like to do, followed by the mood lamp, and then the useless machine.</br></br></dd></br>		
				</dl>
				</hr></br></br>
				<h2>Consultation with Lecturer and Revisions made to project</h2>
				Upon consultation with the lecturer about the idea, he gave the green light for this, on the condition that improvements and changes were made to the design's circuit's housing, and improvements were made to the design
				to serve purposes, and that a few of the materials/electrical components I had wanted could not be used. With this in mind I decided make revisions to the design. All the following changes can be summarised in this section:</br></br>
				<b>1st Revision</b><ul>
					<li>I decided to remove small parts such as the screws and silicon bumpers, as I felt that they were unneccessary and the other parts could be secured in much better ways that used lesser materials, or materials that could be recycled for this purpose.</li>
					<li>I decided to remove the OLED ring as I felt that the visual feedback would not be needed as you would have the screen display for visual feedback, and the sound volume being changed as audial feedback.</li>
					<li>The OLED Display had to be changed due to a lack of availability of the original desired OLED.</li>
					<li>To make changes from the original design by Ruben Henares, I had wanted to make the microboard controller be the Arduino UNO, and make the design have a slot that accomodated both boards.</li>
					<li>I decided to add indicators on the knob for the user to have an easier time using it, so they would know which direction of turning the knob would give them what result.</li>
					<li>I decided to make holes in the base of the box to drain water and provide more air ventilation on the off chance that the parts could overheat if put in a closed box.</li>
					<li>I decided to remove the tray as it was unneccessary.</li>
				</ul></br></br>
				<b>2nd Revision</b><ul>
					<li>I decided to add grooves on the knob to make it easier to hold as I realised that it might be hard to hold since it would be 3D Printed.</li>
					<li>I decided to make the main box laser cut, and parametric, so any of the sides could be removed and reassembled back easily.</li>
					<li>I realised that visual feedback would not be needed, as later versions of most operating systems show up with the audio information on screen if it is changed, and hence decided to remove the OLED display and power bus.</li>
					<li>The UNO was changed to a Digispark ATTiny85.</li>
					<li>I could no longer use the code from the original website I had wanted, and had to change the code.</li>
				</ul></br></br>
				</hr></br></br>
				At this point, I had not yet gotten the measurements of my components, and at this point, I was at the second revision and was putting designing the model off until I had collected the components and could get the physical components as I was worried about the parts that I would receive varying slightly from the actual components,
				but at that point I was running out of time to work on the project, and other modules required a lot of my time, and hence decided to start working on the parts and some room for error and physical adjustment for when I received the parts, taking reference for measurements from the original design by Ruben Henares.</br></br></br>
				<h2>3D Printed Parts and CAD.</h2>
				First, I started with the knob, as I felt that would be the part that would be the easiest to scale up and down, and used the basic knob made by Ruben Henares, adding the indents on the top of the knob.</br>
				The original design can be found on Thingiverse <a href="https://www.thingiverse.com/thing:4343186">here</a>. 
				As intended, I started with the knob, which looked like this:</br></br>
				<img src="Images/fp4.jpg" width="530px" height="auto">
				<img src="Images/fp5.jpg" width="530px" height="auto"></br></br>
				This was just plain flat plastic, which can be hard to grip for some people. Additionally, it is unclear of which direction of turning the knob does what, and any other additional features the project might have. 
				Hence, I decided to add some markings on top of the knob. </br></br>
				I started out with making a sketch of the indentations on the top, gauging them to be half the size of my finger, but decided that was too big. Hence, I shrunk the width of the indentations from 8mm to 2.5mm,
				as I felt that if it was too big, it would be hard to tell what the indentation was with a touch of a finger. In hindsight, it should have been large, something like 5mm, as 2.5mm turned out to be too small.</br></br>
				But that is too late to change, so if anyone reads this website and decides to do something similar, do take note to make it large enough that your finger should cover it nicely. As for the actual creation of the indentation,
				I started with a sketch on one side, creating the following sketch, creating the indentations on one side first with a line down the middle.</br></br>
				<img src="Images/fp6.jpg" width="1060px" height="auto"></br></br>
				With this done, I simply copied the indentations over and modified the plus to a minus symbol.</br></br>
				<img src="Images/fp7.jpg" width="1060px" height="auto"></br></br>
				Subsequently, I cut the sketch to a depth of 0.2mm, thinking it would be pretty thick, but not enough that it would get water or any grime stuck inside. But in hindsight, it should have been made deeper.</br></br>
				<img src="Images/fp8.jpg" width="1060px" height="auto"></br></br>
				After that, I filleted the edges to remove the sharp edges.</br></br>
				<img src="Images/fp9.jpg" width="1060px" height="auto"></br></br>
				After the filleting of this, the indentation was done, and I moved onto the groove. I started mainly with drawing two circles to count outwards, before creating circles on the outer lines slightly overlapping with the edges of the knob.</br></br>
				<img src="Images/fp10.jpg" width="1060px" height="auto"></br></br>
				With this done, I cut the circles downward for the grooves.</br></br>
				<img src="Images/fp11.jpg" width="1060px" height="auto"></br></br>
				This resuts in the following knob, which was 3D Printed out.</br></br>
				<img src="Images/fp12.jpg" width="530px" height="auto">
				<img src="Images/fp13.jpg" width="530px" height="auto"></br></br>
				Some problems with this was that the indentations are too smooth, and the plus and minus is too small and smooth. However, the grooves was fine and worked as intended.</br></br>
				<img src="Images/fp14.jpg" width="1060px" height="auto"></br></br>
				To fix this, I used a marker meant for panel lining plastic model kits to mark out the indentations, which worked, but the downside is that it left a few undesirable marks in the small seams that came from 3D Printing the knob.</br></br>
				<img src="Images/fp15.jpg" width="1060px" height="auto"></br></br>
				The indentations aside, another problem I later discovered after receiving the actual rotary encoder, was that that the rotary encoder's head was barely bigger than the slot on the bottom of the knob. 
				Due to not wanting to 3D print a whole new knob just for this and waste materials, I decided to use an exacto knife to slowly scratch material off inside the slot to make it bigger until it would finally fit onto 
				the rotary encoder's head, which looks like this:</br></br>
				<img src="Images/fp16.jpg" width="530px" height="auto"></br></br>
				<img src="Images/fp17.jpg" width="530px" height="auto"></br></br>
				If you wish to do this project as well, the files can be downloaded below:</br>
				<a href="Final Project/Final Project.f3d" download>Final Project CAD File</a>.</br></br>
				<a href="Final Project/Knob/Final Project Knob STL.stl" download>Final Project Knob STL</a>.</br></br>
				<a href="Final Project/Knob/Final Project Knob STL.gcode" download>UM2_Final Project Knob STL</a>.</br></br>
				</br></br>
				</hr></br></br>
				<h2>Laser Cutting and CAD</h2>
				After finishing the knob, the only other part that needs to be made is the box itself, 
				which is parametric and made from 3mm plywood on all sides, on the logic thatby making it parametric, it should fit together perfectly, 
				but not be too tight that each side cannot be removed should something need to be added to the circuit inside or replaced.</br></br>
				Again, I followed the dimensions specified by the original design, creating an internal storage space that measured 70mm on both sides of the box, both length and width wise, and measured 18.50mm tall.</br>
				With this in mind, I started out by creating a square on a sketch that measured 70mm, and added teeth that measured 10mm in 10 mm intervals.</br></br>
				<img src="Images/fp18.jpg" width="1060px" height="auto"></br></br>
				Next, I removed the square that I used as a base, adding in the bottom holes. After much deliberation I decided to make the holes extend out on all sides, like this.</br></br>
				<img src="Images/fp19.jpg" width="1060px" height="auto"></br></br>
				I did this by drawing lines from corner to the other, drawing lines between them in intervals before removing the original diagonal lines to make each hole its own.</br></br>
				Now that I had completed the base, I had originally intended to make it a proper box, but as mentioned earlier, did not want to risk dealing with the hairline burning too much material,
				and hence decided to simply move onto the drawings, drawing the sides in a mirror fashion to fit into the base's teeth, but extended the sides' teeth to be 0.5mm longer on both sides, like this:</br></br>
				<img src="Images/fp20.jpg" width="200px" height="auto">
				<img src="Images/fp21.jpg" width="860px" height="auto"></br></br>
				By doing this, my intention was that after cutting out the pieces, I could simply sand down the larger teeth to fit perfectly and tightly, as I had sandpaper at home from my own hobbies. Subsequently,
				I made the top piece, which was done by using the same bottom piece sketch, removing the center holes and adding a large hole in the center for the knob which measured about 42mm in diameter, and added 
				the last two sides which only needed changing of the corner teeth to fit into the other sides, and I added in a hole for the wire and board's micro USB port.</br></br>
				<img src="Images/fp22.jpg" width="1060px" height="auto"></br></br>
				And with this, I could export this as a .dxf file, and send it for laser cutting. However, during laser cutting, i found that there were some double lines, which serves as a reminder that when doing this, 
				you need to be observant, and the best way to avoid double lines is to draw the entire shape in one single smooth line. While I had forgotten to take pictures of the set up for laser cutting, I managed to 
				get a picture of the pieces after they were done laser cutting, which worked out as intended.</br></br>
				<img src="Images/fp23.jpg" width="1060px" height="auto"></br></br>
				After pushing them out, I then had to sand them down, and after making everything fit nicely, I was left with this:</br></br>
				<img src="Images/fp24.jpg" width="1060px" height="auto">
				<img src="Images/fp25.jpg" width="1060px" height="auto"></br></br>
				Here is a video of the assembly, which was fairly fun due to how everything snapped together:</br>
				Shown below is a video of the result.</br>
				(By this point I had recieved my components, but I wanted to continue and finish up my parts before worrying about the components.)</br></br>
				<video width="800" height="auto" controls>
				<source src="Images/fp26.mp4" type="video/mp4">
				</video></br>
				<a href="Images/fp26.mp4" download>Assembly Box</a>Click this if your video does not appear to download.</a></br>
				<a href="Final Project/Final Project.f3d" download>Final Project CAD File</a>.</br></br>
				<a href="Final Project/Box/Final Project Box DXF.dxf" download>Final Project Box DXF</a>.</br></br>
				<hr></br></br>
				<h2>Final Assembly</h2>
				At this stage, I had finished both 3D Printing, Laser Cutting, and received my components(and soldered pins onto the Digispark but I forgot to take pictures.. However, I had not yet assembled everything, 
				and the first thing I did was mess with the wiring. While it did take a few tries to get right, I finally got it done. In case the picture below is unclear, my connections were:</br></br>
				Digispark:Rotary Encoder</br>
				5V:GND</br>
				GND:+</br>
				P0:CLK</br>
				P1:DT</br>
				P2:SW</br></br>
				<img src="Images/fp27.jpg" width="1060px" height="auto"></br></br>
				Now came the problem of attaching the components to stay in the box. I discovered that the micro USB port fit perfectly so as long as it was never unplugged the Digispark would not be a problem,
				and even then it could be easily reattached by opening up the top of the box to do the connection again. In the case of the Rotary Encoder, I decided to tie it down with some string.</br></br>
				<img src="Images/fp28.jpg" width="1060px" height="auto">
				<img src="Images/fp29.jpg" width="1060px" height="auto"></br></br>
				With this, the physical assembly is done.</br></br>
				<hr/></br></br>
				After that, I needed to add in the code, but due to conflicting deadlines with another upcoming assignment from other modules, I was unable to find the time to create a new sketch from the start, 
				\and found one that did roughly what I wanted. If I had more time, I would have wanted to script a function to pause and play. The files can be found here, with the original creator's page being below as well.</br></br>
				<a href="Final Project/Final Project.f3d" download>Final Project CAD File</a>.</br></br>
				<a href="Final Project/Volumez_Control/Volume_Control.ino" download>Volume Control Sketch</a>.</br></br>
				<a href="https://learn.adafruit.com/trinket-usb-volume-knob/add-a-mute-button">Original Source</a></br></br>
				<hr></br></br>
				<h2>Instructions Manual</h2>
				A simple volume control device that you can use to control the volume of the audio.</br></br>
				<img src="Images/fp31.jpg" width="1060px" height="auto"></br></br>
				To set it up:<ol>
					<li>Plug it into your laptop through USB.</li>
					<li>Wait a few seconds, and that's it. It's ready for use.</li>
				</ol></br></br>
				Functions:<ol>
				<li>Turn clockwise to increase volume</li>
				<li>Turn anti-clockwise to decrease volume</li>
				<li>Press once to mute.</li>
				</ol></br></br>
				The mentioned functions can be seen in this following video:</br></br>
				<source src="Images/fp30.mp4" type="video/mp4">
				</video></br>
				<a href="Images/fp30.mp4" download>Functions</a>Click this if your video does not appear to download.</a></br></br>
				<hr/></br></br>
				<h2>My Learning Experience</h2>
				Protoyping a project can be fun, but when it comes down to it, there is no denial that you need to expand your skillset in order to be able to create larger and more interesting projects.
				The past semester of taking DFAB has reminded me of this, in the form of the final project, which pushes you to combine and use all the skills you have learnt over the past semester in a single project,
				integrating all of the skills together to create something that serves a good purpose. It's also taught me the importance of time and task management. While taking multiple tasks that are not hard may be easier to
				manage than complex projects, they each still take time, and I have learned that in order to ensure quality in everything that is presented or compeleted by me, I have to lower the complexity of somethings to fit
				with the amount of time I have, rather than trying to extend the amount of time I have to allow for projects of higher complexity.</br></br>
			</p>
		</div>
		<div id="Back">
				<a href="index.html">Back to Index</a>
		</div>
		</div>
		<div id="Footer">
			Copyright &copy; 2020 Dean Tan
		</div>
	</body>
</html>