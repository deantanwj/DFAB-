<!DOCTYPE html>
<html>
	<head>
		<title>Embedded Programming</title>
		<link rel="stylesheet" type="text/css" href="style.css" />
	</head>
	<body>
	<div id="container">
		<div id="Header">
			<h1>Week 8: Embedded Programming w/ Arduino</h1>
		</div>
		<div id="Summary">
			<p>
				Embedded Programming is the routine of installing hardware to run various pre-programmed functions that contribute to the completion and functionality of a product.
				This can be done on a number of hardware, but there are generally a few things to consider, that being:
				<ul>
					<li>Electrical Components</li>
					<li>Current, Voltage, and Resistance</ul>
					<li>Script/Programming</li>
				</ul>
				These impact the entire circuit in a product in their own way, each needing an equal amount of attention and reviewing for the circuit to function, and hence they will be covered in more detail.</br></br>
				<hr/></br>
				<h2>Electrical Components</h2>
				Electrical Components, alternatively referred to as Electronic Components are devices that use electricity.</br>
				These can include and are not limited to:
				<ul>
					<li>Wires, used to connect components.</li>
					<li>Switches, which open and close a circuit, which essentially turns it on and off.</li>
					<li>Resistors, components that provide resistance to the flow of electricity.</li>
					<li>Capacitors are used to store charge, block DC or allow AC</li>
					<li>Inductors, coils that resist change in current.</li>
					<li>Inductors, that allow or block current.</li>
					<li>Diodes, which allow or block current.</li>
					<li>Transistors, which amplify signals.</li>
					<li>Integrated Circuits which are miniaturized combination of the above items.</li>
				</ul></br></br>
				Electrical Components can be identified by one of two ways, one being their physical appearance or their electronic symbols, as shown below.</br></br>
				Physical Appearance</br>
				<img src="Images/ep1.jpg" width="1160px" height="auto"></br></br>
				Electronic Symbols</br>
				<img src="Images/ep2.png" width="1160px" height="auto"></br></br>
				Electronic Symbols can be used to represent electronic circuits, and can be translated manually or electronically into a physical circuit.
				<hr/></br>
				<h2>Current, Voltage and Resistance</h2>
				Electricity is the flow of electricity in a closed circuit. Current, Voltage and Resistance are measurements of various parts of a circuit's calculations.
				<ul>
					<li>Current, which is the rate at which electrical charge flows through a certain point. It is measured in Amperes.</li>
					<li>Voltage refers to the difference in electrical potential between two points. It is measured in Volts.</li>
					<li>Resistance is the measurement of the opposition to current flow in an electrical circuit. It is measured in Ohms.</li>
				</ul>
				When setting up a circuit, current, voltage, and resistance should always be taken into consideration.</br>
				Some formulas commonly used to calculate each of these variables are:
				<ul></br></br>
					<li>Ohms Law:</br>
					Voltage = Current * Resistance ( V = IR )</li></br></br>
					<li>Power</br>
					Power = Voltage * Current</li></br></br>
				</ul>
				<hr/></br>
				<h2>Programming</h2>
				Embedded Programming is derived from the desire to reduce the number of devices in the circuit and the sizes. Originally, a dedicated computer system with dedicated functions were needed to perform specific tasks,	 but due to this
				goal of reducing the size, through the development of the Uno, the circuit was reduced to a single Intergrated Circuit with support devices.</br>
				<img src="Images/ep11.jpg" width="1160px" height="auto"></br></br>
				This IC and its programming is collectively known as Arduino. An Arduino system comprises of:<ul>
					<li>Software & Software Tools<ul>
						<li>Integrated Development System (IDE)</li>
						<li>Arduino programming language (C++ like) based on Wiring</li>
						<li>Development & Debugging tool based on Processing</li>
						<li>Software libraries ( open source contributions )</li>
					</ul></li>
					<li>Hardware<ul>
						<li>Atmel processor board</li>
						<li>Shields (Add-on modules)</li>
						<li>Sensors, actuators, peripherals</li>
					</ul></li>
					<li>Open Source Platform</li></br></br>
				</ul>
				With all of this information, it is ezsy to accidentally draw some misconceptions and mistake somee rumours for actual information. While there may be many miconceptions to cover and debunk, here are some common ones:
				<ul>
					<li>"The board is made up of a microprocessor board."</br>
					This is inaccurate, as what this statement refers to is the Arduino Uno board, not Arduino itself.</li></br><br>
					<li>"The board can be used to build projects."</br>
					This is inaccurate as the board is simply used as a control unit to activate or manipulate additional modules to accomplish their intended goal or function in a circuit through the use of code.</li></br><br>
					<li>"Programmed in C++"</br>
					Arduino uses a proramming language that derives from C++, and is not C++ itself.</li></br><br>
					<li>"Has a lot of clones, which may be incompatible"
					The various Arduino clones, while not being made by the same supplier, can still accomplish and serve the same functions as the genuine board.</li></br><br>
				</ul>
				With all this in mind, why should you use Arduino? It is a system made to emulate the capabilities of their larger and more specialised equivalents, but ultimately, it is a system that is made to do what those systems can do.
				<ul>
					<li>Arduino is inexpensive, with the board costing lesser than $5, which is much lesser than what the specialised systems built to perform specific functions can cost.</li></br><br>
					<li>Cross-platform capabilities, allowing people to use Mac, Linux, and Windows. This means that it is widely accessible by many people with different operating systems.</li></br><br>
					<li>Simple programming environments using a user friendly GUI.</li></br><br>
					<li>Open source software and hardware that is extensible.</li></br><br>
				</ul>
				With all of these incentives to use Arduino, it might be hard to decide which piece of hardware you should use. In those cases, you should refer to the various capabilities of each board according to what you need or want. However, in the case of this module, we are learning to use an Arduino Uno.</br></br>
				<b>Arduino Uno</b><ul>
					<li>Most common microcontroller board used to begin Arduino projects.</li>
					<li>Uses an Atmel Atmega328P processor with a seperate programmable interface using another Atmel Processor and USB.</li>
					<li>Has sockets for interfacing and power</li>
				</ul></br><br>
				After you choose your board, you will then need to learn how to program with the Arduino IDE. In the case of the Uno,<ul>
					<li>it uses a bootloader (2K code), allowing programming through a USB interface on the board. The board runs code the order of:<ol>
						<li>Processor starts up</li>
						<li>Loads and runs bootloader</li>
						<li>Loads program you are sending via USB if there is a programming command from the serial interface.</li>
						<li>Otherwise, it will run the last loaded program</li>
					</ol></li>
					<li>With this in mind, it is understandable why through the use of the Bootloader and USB interface, it is so much easier do to work or test programs on Arduino systems.</li>
				</ul>
				The general workflow of using the Arduino IDE would be:<ol>
					<li>Write your code.
					<img src="Images/ep12.JPG" width="1060px" height="auto"></br></br></li>
					<li>Compile/Verify your code.
					<img src="Images/ep13.JPG" width="1060px" height="auto"></br></br></li>
					<li>Upload your code to UNO board.
					<img src="Images/ep14.JPG" width="1060px" height="auto"></br></br></li>
					<li>Press Reset Button, which rather than resetting all data on the board, actually runs the board starting from the first line of code.
					<img src="Images/ep15.JPG" width="1060px" height="auto"></br></br></li>
					<li>Observe Results and make changes if and where needed.</br></br></li>
				</ol>
				This workflow can more or less be observed throughout all the variations of the UNO, as expected when something is open source.
				The programming and usage are mostly the same with some minor variations from one board to another, but their I/O Ports are largely the same. The only real different would be in the cost of each board.</br></br>
				All of this software can be found on the <a href="https://www.arduino.cc/en/main/software">Arduino Site</a>, and the latest version should be the one to be used, with the most updated one as of the time of updating this site being 1.8.12. 
				The Arduino IDE software is available in different platforms, with many resources and help available to users through a simple search.</br></br>
				The UNO boards require drivers, which for the most part, are the FTDI drivers for original boards, and the CH340 drivers for cheaper boards, which need to be installed. The how-to can be checked online with help from google,
				but a guide I found useful can be found <a href="https://learn.sparkfun.com/tutorials/how-to-install-ch340-drivers/all">here</a>.</br></br>
				After downloading the neccessary software, you will now need to know how to use the Arduino IDE. Generally the set up should follow this order: <ol>
					<li>Firstly, you need to connect your UNO board to the computer running the Arduino IDE.
					<img src="Images/ep16.jpg" width="1060px" height="auto"></br></br></li>
					<li>Launch the Arduino IDE.</br></br></li>
					<li>Setup the IDE.</br></br></li>
					<li>Select the correct board that you are using, but in this case, the board should be the Arduino UNO.
					<img src="Images/ep17.JPG" width="1060px" height="auto"></br></br></li>
					<li>Identify and check the port the board is connected to.
					<img src="Images/ep18.JPG" width="1060px" height="auto"></br></br></li>
				</ol>
				With this done, you should be clear to write programs, from which you can follow the earlier progression when writing programs, which are called "Sketches", with the extension of ".ino". You can load the example program "Blink" to test this out.</br>
				<img src="Images/ep19.JPG" width="1060px" height="auto"></br></br>	
				However, if you wish to write your own program, you will need to understand the functions of each section of the code, primarily, the the setup, loop, and Digital Input/Output.</br></br>
				Setup()<ul>
				<li>In the programming language, words with () behind them are called <b>Functions</b>. They carry out specific processes at specific times, with Setup() only being called and executed at the start of the script only once in its entire run time.</li>
				<li>Setup() usually contains code that serves to inisitialise, or as the name implies, setup various settings or adjustments for the project and subsequent functions to function properly.</li>
				<li>Contains variables to be initialised, and any I/O pins used.</li>
				</ul></br></br>
				Loop()<ul>
				<li>Code in this section is run repeatedly, more specifically in an indefinite loop after Setup().</li>
				<li>This can be used to trigger other functions upon certain conditions being met, or be used to count or continually change something such as a time based variable.</li>
				</ul></br></br>
				Things to keep in mind when programming:<ul>
				<li>Comment any and all code written to remind yourself of what it does. If not for each, line, then at the very least each section that carry out their own tasks.</li>
				<li>Use uppercases to denote constants</li>
				<li>Add indents to your code</li>
				</ul></br></br>
				Digital Input/Output(I/O)<ul>
					<li>The ATMega328 has 14 digital input/output ports.</li>
					
					<li>Digital Values (1 = 5V, 0 = 0V)</li>
					<li>Some of these ports are multifunctional, but it depends on how they are initialised.</li>
					<li>They can perform as Digital Inputs, which is the default,</li>
					<li>Digital Outputs,</li>
					<li>or Pulse width modulation outputs.</li>
					<li>Arduino provides useful library functions for these purposes, simplifying programming.</li>
				</ul>
				<hr/></br>
				<h2>Electronic Protoyping</h2>
				Electronic Prototyping involves using knowledge of electrical components and electricity to create a prototype, serving as an early sample or mockup of the project.</br>
				This allows for testing and odifications to the design as the user sees fit, and can be done with three techniques.</br></br>
				<hr/></br>
				
				<h4>Breadboarding</h4>
				Breadboarding is a a technique that makes use of a breadboard, a construction base for prototyping electronics.</br></br>
				Breadboarding</br>
				<img src="Images/ep3.jpg" width="1060px" height="auto"></br></br>
				Advantages:<ul>
					<li>Does not require soldering</li>
					<li>Allows testing</li>
					<li>Allows modification</li>
				</ul></br></br>
				Disadvantages:<ul>
					<li>Gets complex very easily with more connections</li>
					<li>Loose connections</li>
					<li>May be inaccurate</li>
				</ul>
				Breadboarding Tools:</br></br>
				Breadboard
				<img src="Images/ep4.jpg" width="1060px" height="auto"></br></br>
				Power Rails Connector
				<img src="Images/ep5.png" width="1060px" height="auto"></br></br>
				Dupont Male-Male Jumper Wires
				<img src="Images/ep6.jpg" width="1060px" height="auto"></br></br>
				<hr/></br>
				
				<h4>Stripboarding</h4>
				Stripboardng involves the use of an electronics protoyping board which provides a grid for placement and connectivity of components.</br></br>
				Stripboarding</br>
				<img src="Images/ep7.jpg" width="1160px" height="auto"></br></br>
				Advantages:<ul>
					<li>Can handle simple to relatively complex ciruits</li>
					<li>Can handle a variety of components</li>
					<li>Secure connections</li>
				</ul></br></br>
				Disadvantages:<ul>
					<li>Requires soldering</li>
					<li>Planning needed for complex circuits</li>
					<li>Medium complexity</li>
				</ul>
				Stripboarding Boards:</br></br>
				Veroboard
				<img src="Images/ep8.jpg" width="1060px" height="auto"></br></br>
				Stripboard ( holes only )
				<img src="Images/ep9.jpg" width="1060px" height="auto"></br></br>
				Stripboard ( strips )
				<img src="Images/ep10.jpg" width="1060px" height="auto"></br></br>
				Veroboard is the most common prototype board, requiring some skill, soldering, and tools, but stabled designs can be built, tested, and used.
				<hr/></br>
				
				<h4>Printed Circuit Boards</h4>
				Printed Circuit Boards are boards that connect electronic components using copper tracks, with the components being soldered onto the PCB.</br>
				These PCBs can be single, double, or multi-layered, with each "layer" referring to the conductive copper substrate layer(s) used on the board. These boards are made through two processes, chemical etching and mechanically engraved boards.
				Generally, Mechanically engraved boards are recommended for prototyping over chemical etched boards due to the toxicity of the latter's manufacturing process.</br></br>
				<hr/></br>
				Exercise: Wire and interface one input device and output device to read inputs from the input device to trigger the output device.</br></br>
				With this exercise in mind, I decided to use a micro servo motor as my output device, and two push buttons as my input. The goal would be to make a servo that constantly turned, and using the buttons, someone would be able to control the speed of the buttons.</br>
				So, I started off by declaring variables to be used in the code, then putting in the setup code, and finally the loop code.
				<img src="Images/ep21.JPG" width="1060px" height="auto"></br></br>
				However, an error with the code popped up, saying that I was not allowed to lock buttons using boolean variables in the loop function. Hence, my fix to the solution was to create a function to unlock the buttons when both buttons were not pressed.</br>
				And just when I thought I'd fixed the problem, I realised that there was a problem with the timing, and hence, due to not wanting to spend any more time on the exercise, changed it to a servo that turns 10 degrees in any direction when the corresponding button is pressed, resulting in this 
				<a href="/images/myw3schoolsimage.jpg" download>
				Next, I had to wire up a model to test if it would work, and hence, I used TinkerCAD, a website for making simulations of projects and found a similar circuit as reference. It can be found by clicking 
				<a href="https://www.tinkercad.com/dashboard">here</a>.</br></br>
				The simulation I made can be found here:
				<a href="https://www.tinkercad.com/things/ezUUs0TgKu0-copy-of-speed-up-and-down-of-dc-motor-using-push-buttons">Simulation</a></br></br>
				Now that the simulation was wired up, I needed to make the physical version by wiring components on a breadboard, and it looks like this:
				<img src="Images/ep22.JPG" width="1060px" height="auto"></br></br>
				Shown below is a video of the result.
				
			</p>
		</div>
		<div id="Back">
				<a href="index.html">Back to Index</a>
		</div>
		</div>
		<div id="Footer">
			Copyright &copy; 2020 Dean Tan
		</div>
	</body>
</html>